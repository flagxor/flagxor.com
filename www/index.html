<!DOCTYPE html>
<body><div id="main">
<script src="flagxor.js"></script>

<h1>Flagxor's Bytes and Bobs</h1>

<h3><a target="_parent" href="article/bread">Bread</a></h3>
<p><i>March 15, 2020</i></p>
<p>
Making french bread seems to involve some simple ratios.
Unfortunately, without fail, I'll regularly mislay what I did last time.
To avoid that, I'm putting the current formula online.
</p>

<h3><a target="_parent" href="article/source-code">Source Code</a></h3>
<p><i>February 19, 2015</i></p>
<p>
Source code, while a common property of programming languages,
is by no mean universal. Languages like Smalltalk, traditional
interactive BASICs, and some Forths often have "source of truth"
representations other than text files. Additional REPLs of all sorts
often retain program state that exists only for the duration
of an interactive session. What are the trade-offs and why does text
continue to be the dominant format?
</p>

<h3><a target="_parent" href="article/why-do-programming-languages-succeed">Why do Programming Languages Succeed?</a></h3>
<p><i>December 20, 2014</i></p>
<p>
There have been thousands of programming languages of various scopes created
since the advent of computers. Of these, two kinds are worthy of special
attention: those that are very popular and those that are very original.
Perhaps not remarkably, both groups are quite small. A few languages probably
belong in both categories.
</p>

<h3><a target="_parent" href="article/multiple-prototypes">Multiple Prototypes</a></h3>
<p><i>October 14, 2014</i></p>
<p>
While early prototype based languages like Self
and NewtonScript allowed multiple-prototypes, Javascript only allows
a single prototype per object. I'll explore the trade-offs
of each approach, rant vaguely.
</p>

<h3><a target="_parent" href="article/html-templates-python-vs-javascript-escaping">HTML templates, Python vs Javascript, Escaping</a></h3>
<p><i>October 3, 2014</i></p>
<p>
My blog's Static HTML has now been replaced with a python generation
script. I shall now pontificate on escaping, Python vs Javascript,
and lament how to handle more articles.
</p>

<h3><a target="_parent" href="article/added-new-blog-and-forum">Added new blog and forum!</a></h3>
<p><i>October 1, 2014</i></p>
<p>
After a long hiatus, I'm making another attempt at semi-regular blogging.
Also, using <a href="http://disqus.com">Disqus</a> I've added forums
to <a href="http://forthsalon.appspot.com">Forth Haiku</a>
and the new <a href="http://flagxor.com">blog</a>.
</p>

<h3><a target="_parent" href="article/generating-spirals">Generating Spirals</a></h3>
<p><i>April 22, 2011</i></p>
<p>It turns out a spiral isn't too bad to implement.</p>

<h3><a target="_parent" href="article/less-is-more">less is more</a></h3>
<p><i>June 20, 2011</i></p>
A number of recently added standard Forth words have been dropped
from the Haiku Forth core vocabulary:
<pre>! @ IF ELSE THEN VARIABLE ALLOT HERE.</pre>
Surprisingly few haikus had to be updated to accommodate,
suggesting not much has been lost.
</p>

<hr/>

<div>
<div style="display: inline-block">
<h3>IP Visit Heatmap</h3>
<canvas width="256" height="256" id="ipmap"></canvas>
</div>
<div style="display: inline-block">
<h3>Forth Board</h3>
<canvas width="256" height="256" id="board"></canvas>
</div>
<script src="toys.js"></script>
</div>

</div>

<script type="text/forth">
web
JSWORD: pageload { a n -- }
  window.location.href = GetString(a, n);
~
: slides   s" https://flagxor.github.io/svfig-talks/svfig-2023-02-25/" pageload ;

web definitions

: passwd ( a n -- ) s" passwd" 0 setItem ;

JSWORD: raw-server-write { a n done -- }
  i32[done>>2] = -1;
  var request = new XMLHttpRequest();
  request.open('POST', '/dynamic/write');
  request.setRequestHeader('PASSWD', localStorage.getItem('passwd'));
  request.setRequestHeader('RECORD_NUMBER', n);
  request.onload = function() {
    if (request.status == 200) {
      i32[done>>2] = 0;
    } else {
      i32[done>>2] = 1;
    }
  };
  request.onerror = function() {
    i32[done>>2] = 2;
  };
  request.send(u8.slice(a, a + 1024 * 16));
~

JSWORD: raw-server-read { a n done -- }
  i32[done>>2] = -1;
  var request = new XMLHttpRequest();
  request.responseType = 'arraybuffer';
  request.open('POST', '/dynamic/read');
  request.setRequestHeader('PASSWD', localStorage.getItem('passwd'));
  request.setRequestHeader('RECORD_NUMBER', n);
  request.onload = function() {
    if (request.status == 200 &&
        request.response.byteLength == 1024 * 16) {
      var data = new Uint8Array(request.response);
      for (var i = 0; i < 1024 * 16; i++) {
        u8[a + i] = data[i];
      }
      i32[done>>2] = 0;
    } else {
      i32[done>>2] = 1;
    }
  };
  request.onerror = function() {
    i32[done>>2] = 2;
  };
  request.send();
~

also internals
: server-write ( a n -- )
   0 >r rp@ raw-server-write begin yield r@ 0< 0= until r@ throw rdrop ;
: server-read ( a n -- )
   0 >r rp@ raw-server-read begin yield r@ 0< 0= until r@ throw rdrop ;

only forth definitions
</script>
<script src="forth.js"></script>
